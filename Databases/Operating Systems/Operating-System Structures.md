# Operating-System Structures

### 操作系统的定义

- 控制底层硬件
- 为应用程序提供基础环境
- 用户和硬件之间的媒介



### 操作系统的功能目标

- 执行用户程序，便于解决用户的问题
- 让计算机系统更容易使用
- 用高效的方式管理计算机硬件



### 操作系统的设计目标

- 用户角度：操作系统便于使用，易于学习，可靠、安全、快速
- 系统角度：操作系统易于设计、实现、维护，延展性、容错性好，可靠、高效



### 操作系统作为资源分配者的含义

- 管理所有系统资源
- 在出现资源竞争时能够公平且高效地进行分配



### 操作系统作为控制程序的含义

- 控制运行在操作系统上各种应用程序的运行
- 防止执行错误和错误使用，如访问其他进程的空间



### 计算机系统的结构（4个组成部分）

- 硬件、操作系统、系统和应用程序、用户



### 计算机启动用到的部件及作用

- 引导程序：在计算机启动后，引导操作系统完全运行的程序
- 引导加载程序：在引导过程中，对操作系统内核进行加载的程序
- 引导块：存放引导内核的指令的存储块



### 计算机启动的步骤

- 初始化系统的各个方面
- 引导加载程序加载操作系统内核
- 开始运行



### 中断处理的流程

- 设备完成I/O后通过产生中断通知操作系统
- 操作系统接收到中断信号后，保存当前进程的PC、寄存器、内存地址空间中的内容等（PCB）信息
- 通过中断向量找到设备对应的中断服务程序的地址
- 中断服务程序获得控制，处理中断
- 中断处理完成后，加载PCB中的信息，恢复到产生中断的地址



### I/O的定义及相关设备

- I/O是设备与设备控制器缓冲区之间的数据传输
- 设备控制器：设备中的处理器，决定了设备和计算机之间的逻辑交互，控制器内有局部缓冲区
- 设备驱动：操作系统的设备控制单元，为各种设备提供统一的接口，对不同设备的I/O进行管理
- 缓冲、缓存、假脱机



### 两种I/O方式的特点

- 同步：I/O请求后，调用者等待I/O完成才返回执行
- 异步：I/O请求后，调用者马上返回执行



### 改善I/O传输效率的方法

- 直接内存访问（DMA）：无需借助CPU，设别控制器允许设备将整块的数据送往内存或从内存中读出



### Cache的定义及作用

- 存储有数据副本的用来提高性能的高速存储器
- 作用：缩短内存中部分数据的访问时间



### 数据在层次结构中迁移时需要注意的问题

- 多任务系统在每个层次结构中都需要保证最新的数据
- 多核系统需要为每个层次结构提供数据一致性



### 多道程序设计的含义和优势

- 多道程序指保证CPU始终在执行某个任务
- 与长程调度（任务调度）有关
- 提高CPU和各种设备的利用率



### 分时系统（多任务）的含义和优势

- 分时系统指通过快速切换多个任务
- 与短程调度（CPU调度）有关
- 用户能与正在运行的进程进行交互



### 双重模式的定义及作用

- 操作系统的双重模式分为用户模式和内核模式
- 用户模式不能使用内核模式的某些指令
- 内核模式使用特权指令调用操作系统内核提供服务，内核运行在该模式下
- 系统调用使系统从用户模式切换为内核模式
- 区分用户模式和内核模式有助于防止用户进程对操作系统内核进行破坏，提高内核运行的效率



### 定时器的作用

- 定时器是能在一段设置好的时间后产生中断的硬件
- 防止无限循环和进程一直占用系统资源



### 保护的定义

- 控制处理器和用户对资源的访问



### 安全的定义

- 抵御外部或内部对系统的攻击



### 计算环境的分类

- 传统计算环境
- 服务器-客户机计算环境
- P2P对等计算环境
- 基于网络的计算环境



### 用户界面的分类

- 命令行界面
- 图形界面
- 批处理界面



### 系统调用的定义

- 系统调用是一种软件产生的，用于请求操作系统服务的中断



### API的定义与优势

- API是应用程序编程接口，为应用程序和开发人员提供系统调用的接口
- API无需理解系统调用的实现细节
- 只需要遵守API使用规则并理解调用后操作系统返回的结果



### 系统调用传递参数的方法与特点

- 寄存器中的值
- 一整块数据的地址：大规模的数据
- 栈：大规模的数据



### 操作文件和设备时使用相同的系统调用接口的优劣

- 设备驱动支持抽象文件接口简化了添加新设备驱动的过程
- 用户程序开发时能够用相同的方式对文件和设备进行访问
- 设备驱动能够使用定义完备的API接口
- 设备特定功能的损失和性能的损失



### 系统程序的定义

- 与操作系统有关但是不是内核的一部分
- 为程序开发和执行提供环境



### 操作系统的结构分类与优劣

- 单体结构：结构简单，易于实现，速度快；接口和功能没有完全分开，不能实现功能复杂的操作系统
- 分层结构：结构清晰，功能明确；控制硬件需要经过多个层次，速度较慢
- 微内核：扩展、移植、可靠、安全；功能模块之间、用户空间和内核空间之间的通信开销



### 虚拟机的特点

- 每个虚拟机都实现了相同的接口
- 创建了虚拟机自己的处理器和自己的内存的假象，可看作独立的设备
- 在不同虚拟机之间共享资源
- 虚拟机之间的隔离与保护



### 虚拟机的优势

- 按需分配计算资源
- 开发人员能够在虚拟机上进行测试，而不会影响其他虚拟机和物理主机



### Java虚拟机的原理

- 编译后产生.class字节码文件
- 字节码加载器将其与API字节码文件进行连接
- Java解释器将其加载到主机上
